# SQL笔记



## 1. SQL for 数据产品经理

使用场景 

关于性能

掌握到什么程度



## 2.好用的编辑器

Sublime Text 3

不多推荐，就这一个，最好用的功能：

1. snippet自定义代码块：一般常用的表、常用的写法，写来写去就那么几种，可以写一个snippet自定义代码块，通过关键词“一键召唤”出来，简单修改即可复用，SQL民工搬砖第一大神器！大爱！
2. 全局输入提示：输入的时候



## 3. 我最常用的知识点

格式：缩进、换行、AS 命名、注释

没有强制要求但一定要养成良好的书写习惯，写SQL和其他语言一样，需要美观和可读性，但是往往因为sql比较简单、一次写的比较短，所以大家都不重视，我也是在看过别人七八十行的“浓缩”SQL，自己也亲手写过两百多行的SQL，才深刻体会到格式的重要性。

1. 保留字全部使用大写，其他尽量都使用小写，当编辑器没有高亮的时候，能帮助尽快找到基础的语法问题
2. 保留字、字段值、WHERE条件，出现必换行，虽然有时候会导致行数很多，但能降低文字密度，整体可读性会提高很多
3. 严格使用4格缩进，当SQL很复杂，多个表关联加嵌套时，有助于读懂表结构，快速发现问题。
4. 需要给表、字段命名的地方，绝不省略 AS
5. 充分的备注，至少对表的作用、字段的含义、数值的处理方式做必要解释
6. 全小写的下划线命名法，尽量完整的表达出字段/表的含义

这几个格式问题虽然看起来很麻烦，但使用snippet代码块的情况下还是挺轻松的，不会额外增加什么工作量，还会因为美观的格式大大降低沟通成本，因为SQL有时候需要让别人交叉检查、复用、说明计算逻辑，如果写一团糟，这个过程会非常痛苦，写一手好看的代码也会让开发很乐意接你的需求哈哈哈哈。

```sql
SELECT 
		user_info.clomun1 AS name1,
		user_info.clomun2 AS name2,
		COUNT(userid) AS user_num
FROM 
		(
    SELECT 
    ) AS user_employee
WHERE
		date = 20200101
		AND plat = 'iOS'
GROUP BY 
		
		

```



JOIN：几种类型的区别、常见的错误

特殊值处理：NULL、空字符串、字符串类型的数字、浮点

时间处理：





## 3. 我常用的SQL写法

SQL的写法主要受表结构和数据格式的影响，设计质量好的表能大大降低取数难度和计算量。我所在的公司使用的是HiveQL，这里也默认使用HiveQL的语法。

#### 留存

```sql
SELECT 
FROM 

```









